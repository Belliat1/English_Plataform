(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6421],{1335:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>u});var s=r(5155),t=r(2115),n=r(5695),o=r(4992);let u=()=>{let[e,a]=(0,t.useState)(""),[r,u]=(0,t.useState)(""),[c,l]=(0,t.useState)(null),[i,d]=(0,t.useState)(null),m=(0,n.useSearchParams)(),p=(0,n.useRouter)(),h=m.get("token"),f=async a=>{if(a.preventDefault(),l(null),d(null),!h)return void l("Token inv\xe1lido o expirado.");if(!e||e.length<6)return void l("La contrase\xf1a debe tener al menos 6 caracteres.");if(e!==r)return void l("Las contrase\xf1as no coinciden.");try{let a=await fetch("/api/reset-password/update-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h,password:e})});if(!a.ok){let e=await a.json();throw Error(e.message||"Error al actualizar la contrase\xf1a.")}d("Contrase\xf1a actualizada con \xe9xito. Redirigiendo..."),setTimeout(()=>p.push("/login"),2e3)}catch(e){l(e.message)}};return(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsx)("h1",{className:"h32",children:"Establecer nueva contrase\xf1a"}),(0,s.jsx)("p",{className:"p16",children:"Ingresa tu nueva contrase\xf1a para restablecer el acceso a tu cuenta."}),(0,s.jsx)("input",{type:"password",placeholder:"Nueva contrase\xf1a",value:e,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),(0,s.jsx)("input",{type:"password",placeholder:"Confirmar nueva contrase\xf1a",value:r,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),c&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:c}),i&&(0,s.jsx)("p",{className:"text-sm text-green-500",children:i}),(0,s.jsx)(o.A,{type:"submit",className:"button--primary",children:"Actualizar contrase\xf1a"}),(0,s.jsx)(o.A,{type:"button",className:"button--secondary",children:"Ir al inicio"})]})}},4992:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});var s=r(5155);r(2115);let t=e=>{let{as:a="button",children:r,className:t="",...n}=e,o="button ".concat(t).trim();return"a"===a?(0,s.jsx)("a",{className:o,...n,children:r}):(0,s.jsx)("button",{className:o,...n,children:r})}},5695:(e,a,r)=>{"use strict";var s=r(8999);r.o(s,"useParams")&&r.d(a,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(a,{useSearchParams:function(){return s.useSearchParams}})},6345:(e,a,r)=>{Promise.resolve().then(r.bind(r,1335))}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,1684,7358],()=>a(6345)),_N_E=e.O()}]);